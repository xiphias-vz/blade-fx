{% extends model('component') %}

{% define config = {
    name: 'container-to-shelf-form',
    jsName: 'js-order-search',
    tag: 'container-to-shelf-form',
} %}

{% define data = {
    form: required,
    isSuccess: data.isSuccess,
    isUpdated: data.isUpdated,
    containerId: data.containerId,
    submit: {
        text: 'forms.submit-btn' | trans,
        class: 'button button--success button--expand',
        icon: null,
        enable: false,
        qa: 'submit-button'
    },

    cancel: {
        text: 'general.back.button' | trans,
        class: 'button button--hollow button--expand',
        icon: 'chevron-left',
        url: '#',
        enable: false,
        qa: 'cancel-button'
    },
} %}

{% define attributes = {
    'search-item-class': config.jsName ~ '__item'
} %}

{% if data.isUpdated %}
    {% set valContainerId = data.containerId %}
    {% set valForShelfCheck = 1 %}
{% else %}
    {% set valContainerId = null %}
    {% set valForShelfCheck = 0 %}
{% endif %}

{% block body %}
<div class="form box js-is-succes" isSuccess="{{ data.isSuccess }}">
    {% block formElement %}
    <form id="container_to_shelf_form" name="container_to_shelf_form" method="post" novalidate="novalidate">
        <div class="form__container">
            <div class="form__fields grid grid--top js-is-updated" isUpdated="{{ data.isUpdated }}">
                {% if data.isUpdated %}
                    <div id="divContainer" class="hidden form__field col col--sm-12">
                {% else %}
                    <div id="divContainer" class="form__field col col--sm-12">
                {% endif %}
                    <label for="container_to_shelf_form_container_code" class="label label--required">{{ 'storeapp.container.to.shelf.container.label' | trans }}</label>
                    <input id="container_to_shelf_form_container_code" name="container_to_shelf_form[container_code]" required="required" class="input input--expand" type="text" value="{{ valContainerId }}">
                </div>
                <div class="form__field col col--sm-12">
                    {% if data.isUpdated %}
                        <label for="container_to_shelf_form_shelf_code" class="label label--required">{{ 'storeapp.container.to.shelf.shelfID.label' | trans }}</label>
                    {% else %}
                        <label for="container_to_shelf_form_shelf_code" class="label">{{ 'storeapp.container.to.shelf.shelfID.label' | trans }}</label>
                    {% endif %}
                    <input id="container_to_shelf_form_shelf_code" name="container_to_shelf_form[shelf_code]" class="input input--expand" type="text">
                </div>
            </div>
        </div>
        <div class="is-hidden">
            <input id="shelfCheck" type="text" value="{{ valForShelfCheck }}">
        </div>
      </div>
    </form>
    {% endblock %}
        {% if data.submit.enable or data.cancel.enable %}
            {% block actions %}
                <div class="{{config.name}}__actions">

                    {% if data.submit.enable %}
                        {% block submit %}
                            <button id="submitContainerToShelf" type="submit" class="{{config.name}}__action {{data.submit.class}}" {{qa(data.submit.qa)}}>
                                {% if data.submit.icon is not empty %}
                                    {% include atom('icon') with {
                                        modifiers: ['small'],
                                        data: {
                                            name: data.submit.icon
                                        }
                                    } only %}
                                {% endif %}
                                {{data.submit.text}}
                            </button>
                        {% endblock %}
                    {% endif %}

                    {% if data.cancel.enable %}
                        {% block cancel %}
                            <a href="{{data.cancel.url}}" class="{{config.name}}__action {{data.cancel.class}}" {{qa(data.cancel.qa)}}>
                                {{data.cancel.text}}
                            </a>
                        {% endblock %}
                    {% endif %}
                </div>
            {% endblock %}
        {% endif %}
</div>

{% endblock %}

