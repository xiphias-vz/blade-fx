{% extends template('page-layout-main') %}

{% define data = {
    merchant: merchant,
    orderByTimeSlots: orderByTimeSlot
} %}
{% block header %}
    {% include organism('header') with {
        data: {
            headerLocationTitle: data.merchant.name,
            withoutLogo: true,
            pickingZone: true,
            buttonUrl:'/picker/select-picking-zone?multi_picking=1'
        }
    } only %}
{% endblock %}


{% block content %}
    <form id="frm_multiOrderSelection" method="POST" action="/picker/multi-picking">
        <input type="hidden" name="idOrders" value="[]">
        <input type="hidden" name="isAnyOrderLocked" value="">
        <input type="hidden" name="isAnyNonLockedOrderPicked" value="">
        {% embed molecule('popup-ui-error') with {
            data: {
                isErrorTrue: 0,
                isPopUpErrorForPickingArticles: 2,
                buttons: {
                    submit: {
                        isButton: true,
                        additionalClass: 'js-pick-products__submit',
                    },
                },
            },
        } only %}
            {% block content %}
                <div class="popup-error-holder">
                    <div class="error-info" style="margin: 30px">
                       <p>{{ 'picker.activity.multi-picking.order.error-1' | trans }}, {{ 'picker.activity.multi-picking.order.error-2' | trans }}.</p>
                    </div>
                </div>
            {% endblock %}
        {% endembed %}
        {% for key, multiOrdersWithTimeSlots in data.orderByTimeSlots %}
            {% include molecule('time-slot-position') with {
                data: {
                    idTimeSlot: key|slice(22),
                    articleCount: 0,
                    articlesQuantity: 0,
                    timeSlot: 0,
                    orders: multiOrdersWithTimeSlots
                },
                attributes:{
                    'idTimeSlot': key
                }
            } only %}
        {% endfor %}
        {% block button %}
            <div id="confirm-multi-picking" class="text-center" style="margin-top:20px">
                <button type="submit" class="button button--expand button--disabled js-pick-products__submit-button">
                    {{ 'picker.picking.confirmation' | trans }}
                </button>
            </div>
        {% endblock %}
    </form>
{% endblock content %}

