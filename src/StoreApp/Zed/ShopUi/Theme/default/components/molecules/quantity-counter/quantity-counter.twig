{% extends model('component') %}

{% define config = {
    name: 'quantity-counter',
    tag: 'quantity-counter'
} %}

{% define data = {
    maxQuantity: null,
    minQuantity: 1,
    value: 1,
    readOnly: false,
    autoUpdate: false
} %}

{% block body %}
    {% set maxQuantity = data.maxQuantity < 0 or data.maxQuantity < data.minQuantity ? null : data.maxQuantity %}
    <div class="{{ component.renderClass(config.name ~ '__container', modifiers) }} grid grid--no-wrap">
        <div class="col">
            <div class="{{ component.renderClass('button', modifiers) }} button--round {{ config.jsName }}__decr">
                {% include atom('icon') with {
                    class: 'button__icon',
                    data: {
                        name: 'remove'
                    }
                } only %}
            </div>
        </div>
        <div class="col col--expand spacing-x spacing-x--inner">
            <input
                class="{{ component.renderClass(config.name ~ '__input', modifiers) }} {{ config.jsName }}__input input input--expand js-volume-price__quantity"
                data-max-quantity="{{ maxQuantity }}"
                data-min-quantity="{{ data.minQuantity }}"
                type="number"
                value="{{ data.value }}"
                name="quantity"
                min="{{ data.minQuantity }}"
                {{ qa('quantity-input') }}
                {% if maxQuantity is not empty %}max="{{ maxQuantity }}"{% endif %}
                {% if data.readOnly %}readonly{% endif %}
                {% if data.autoUpdate %}data-auto-update="true"{% endif %}/>
        </div>
        <div class="col">
            <div class="{{ component.renderClass('button', modifiers) }} button--round {{ config.jsName }}__incr">
                {% include atom('icon') with {
                    class: 'button__icon',
                    data: {
                        name: 'add'
                    }
                } only %}
            </div>
        </div>
    </div>
{% endblock %}
