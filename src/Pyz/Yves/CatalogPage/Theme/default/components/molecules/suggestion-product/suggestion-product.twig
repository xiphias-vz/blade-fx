{% extends molecule('suggestion-product', '@SprykerShop:CatalogPage') %}

{% block body %}
    <a class="{{ config.name }}__link grid grid--middle grid--no-wrap js-suggest-search__item--navigable js-suggest-search__product-item--navigable"  href="{{ data.url }}">
        <span class="col">
            {% if data.image %}
                {% set firstImage = data.product.images | first %}
                {% if firstImage.external_url_small is not empty %}
                    {% set splitUrl = firstImage.external_url_small | split('.com/') %}
                    {% set insertInTheMiddle = '.com/thumb_' %}
                    {% set newThumbUrl = splitUrl[0] ~ insertInTheMiddle ~ splitUrl[1] %}
                {% endif %}
                {% include atom('thumbnail') with {
                    modifiers: ['catalog', 'with-overlay'],
                    data: {
                        imageWithoutThumb: firstImage.external_url_small,
                    },
                    attributes: {
                        alt: data.alt,
                        src: newThumbUrl,
                        title: data.title,
                    },
                } only %}
            {% endif %}

       </span>

        <span class="col col--expand col--lg-9 title title--medium">
            {{- data.title -}}
            {% include molecule('money-price') with {
                modifiers: ['suggestion-product'],
                data: {
                    amount: data.price,
                    originalAmount: data.originalPrice ?? null,
                },
            } only %}
       </span>
    </a>
{% endblock %}
