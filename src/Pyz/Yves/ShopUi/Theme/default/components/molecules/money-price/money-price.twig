{% extends model('component') %}

{% define config = {
    name: 'money-price',
    tag: 'span',
} %}

{% define data = {
    amount: required,
    originalAmount: null,
    noPriceText: '---',
    calculatedPrice: null,
    itemWeight: null
} %}

{% block body %}
    {% if data.itemWeight is not null -%}
        {{ data.calculatedPrice }}
    {%- else -%}
        {% if data.amount is empty -%}
            {{ data.noPriceText }}
        {%- else -%}
            <span class="{{ component.renderClass(config.name ~ '__amount', modifiers) }}">
                {{ data.amount | money }}
            </span>
        {%- endif -%}

        {% if data.originalAmount is not empty and data.originalAmount > data.amount -%}
            <span class="{{ config.name }}__amount {{ config.name }}__amount--original">{{ data.originalAmount | money }}</span>
        {%- endif -%}

    {%- endif -%}

{% endblock %}
