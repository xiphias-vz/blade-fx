{% extends model('component') %}

{% define config = {
    name: 'product-item-summary',
    tag: 'ul'
} %}

{% define data = {
    productItem: {},
    options: []
} %}

{% block class %}{{ parent() }} list{% endblock %}

{% block body %}
    {% if data.productItem is not empty %}
        <li class="{{ component.renderClass(config.name ~ '__item', modifiers) }}">
            <div class="{{ component.renderClass(config.name ~ '__item-holder', modifiers) }}">
                {% include molecule('product-options', 'ProductOptionWidget') ignore missing with {
                    modifiers: ['summary'],
                    data: {
                        options: data.productItem.productOptions | default([]),
                        pfandbetrag: data.productItem.concreteAttributes["pfandbetrag"] | default("")
                    }
                } only %}
            </div>
        </li>
    {% else %}
        <li class="{{ component.renderClass(config.name ~ '__item', modifiers) }}">
            <ul>
                <li class="{{ config.name }}__item-inner">
                    + {{ 'mail.order.confirmation.deposit' | trans }} {{ data.pfandbetrag | replace('.', ',') }}
                </li>
            </ul>
        </li>
    {% endif %}
{% endblock %}
