{% extends molecule('product-card', '@SprykerShop:ShopUi') %}

{% define data = {
    productSaleUnit: null,
    productSaleVolume: null,
    sku: required,
    addAjaxUrl: path("cart/add-ajax", { "productAbstractId": data.abstractId }),
} %}

{% block body %}
    <div class="{{ config.name }}__container">
        <div class="{{ config.name }}__image-wrap">
            {% block image %}
                <a
                    href="{{ data.addAjaxUrl }}"
                    class="
                        {{ config.name }}__overlay
                        js-product-color-group__image-{{ data.abstractId }}
                        js-image-animation__link
                        js-ajax-add-to-cart__link
                    "
                    data-product-id="{{ data.abstractId }}"
                    data-product-title="{{ data.name | escape('js') }}"
                    data-product-price="{{ data.originalPrice / 100 }}"
                    data-csrf-token="{{ csrf_token('add-to-cart-ajax') }}"
                >
                    {% embed molecule('lazy-thumbnail') with {
                        modifiers: ['no-margin', 'product-card'],
                        attributes: {
                            alt: data.name,
                            src: data.imageUrl,
                            title: data.name,
                        },
                        embed: {
                            abstractId: data.abstractId
                        }
                    } only %}
                        {% block body %}
                            <img class="{{ component.renderClass(config.name ~ '__image', modifiers) }} js-image-animation__image-{{- embed.abstractId -}}" {{ component.renderAttributes(attributes) }}>
                        {% endblock %}
                    {% endembed %}
                </a>
            {% endblock %}

            {% block labels %}
                {{ parent() }}
            {% endblock %}
        </div>

        {% block content %}
            <a
                href="{{ data.url }}"
                class="{{ config.name }}__info grid grid--top grid--no-wrap js-image-animation__link js-ajax-add-to-cart__link"
                data-product-id="{{ data.abstractId }}"
                data-product-title="{{ data.name | escape('js') }}"
                data-product-price="{{ data.originalPrice / 100 }}"
            >
                {% block name %}
                    <div class="col col--md-auto col--sm-12 {{ config.name }}__name">
                        {{ data.name }}
                    </div>
                {% endblock %}

                {% block productData %}{% endblock %}
            </a>

            {% block rating %}
                {{ parent() }}
            {% endblock %}

            <div class="grid grid--justify grid--middle {{ config.name }}__additional-info">
                <div class="col">
                    <a class="" href="{{ data.url }}">
                        {% include atom('icon') with {
                            modifiers: ['big'],
                            data: {
                                name: 'info-circle'
                            }
                        } only %}
                    </a>
                </div>
                <div class="col">
                    {% block price %}
                        <div class="col col--md-4 col--sm-6">
                            {% include molecule('money-price') with {
                                modifiers: ['align-right'],
                                data: {
                                    amount: data.price,
                                    originalAmount: data.originalPrice is empty ? null : data.originalPrice
                                }
                            } only %}
                        </div>
                    {% endblock %}
                </div>
            </div>

            {% block detail %}{% endblock %}
        {% endblock %}
    </div>
{% endblock %}
