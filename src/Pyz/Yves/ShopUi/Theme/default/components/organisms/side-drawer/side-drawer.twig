{% extends organism('side-drawer', '@SprykerShop:ShopUi') %}

{% define data = {
    merchant: app['merchant_name'],
} %}

{% block body %}
    <div class="{{ config.name }}__overlay {{ attributes['trigger-selector'] }}"></div>

    <aside class="{{ component.renderClass(config.name ~ '__drawer', modifiers) }}">
        {% block topBar %}
            <div class="{{ config.name }}__top-bar grid grid--middle spacing-left spacing-left--inner">
                {% block widgets %}
                    {% widget 'StoreSwitcherWidget' %}{% endwidget %}
                    {% widget 'LanguageSwitcherWidget' args [app.request.pathInfo, app.request.queryString, app.request.requestUri] only %}
                        {% block body %}
                            <div class="link link--nav">
                                {{ parent() }}
                            </div>
                        {% endblock %}
                    {% endwidget %}
                {% endblock %}

                {% block close %}
                    <button
                        class="col button button--skinless button--close-drawer {{ config.name }}__close {{ attributes['trigger-selector'] }}">
                        {% include atom('icon') with {
                            modifiers: ['big'],
                            data: {
                                name: 'close',
                            },
                        } only %}
                    </button>
                {% endblock %}
            </div>
        {% endblock %}

        {% block contentWrap %}
            <div class="{{ config.name }}__content">
                {% block content %}
                    {% if data.merchant %}
                        <span class="{{ config.name }}__merchant">
                            {{ data.merchant }}
                        </span>
                    {% endif %}

                    <div class="{{ config.name }}__navigation">
                        <a href="{{ url('customer/overview') }}"
                           class="{{ config.name }}__navigation-item link link--reset-focus">
                            {% include atom('icon') with {
                                modifiers: ['small'],
                                class: 'link__icon',
                                data: {
                                    name: 'user-account',
                                },
                            } only %}
                            {{ 'customer.profile.link' | trans }}
                        </a>
                        <a href="{{ 'page.faq.url' | trans }}" class="{{ config.name }}__navigation-item link link--reset-focus">
                            {% include atom('icon') with {
                                modifiers: ['small'],
                                class: 'link__icon',
                                data: {
                                    name: 'help',
                                },
                            } only %}
                            {{ 'global.help' | trans }}
                        </a>
                        <a href="https://www.welcome.ccd.demo-spryker.com"
                           class="{{ config.name }}__navigation-item link link--reset-focus">
                            {% include atom('icon') with {
                                modifiers: ['small'],
                                class: 'link__icon',
                                data: {
                                    name: 'store-finder',
                                },
                            } only %}
                            {{ 'global.store_finder' | trans }}
                        </a>

                        {% if is_granted('ROLE_USER') %}
                            <a href="{{ url('logout') }}"
                               class="{{ config.name }}__navigation-item link link--reset-focus">
                                {% include atom('icon') with {
                                    modifiers: ['small'],
                                    class: 'link__icon',
                                    data: {
                                        name: 'logout',
                                    },
                                } only %}
                                {{ 'customer.logout' | trans }}
                            </a>
                        {% else %}
                            <a href="{{ url('login') }}"
                               class="{{ config.name }}__navigation-item link link--reset-focus">
                                {% include atom('icon') with {
                                    modifiers: ['small'],
                                    class: 'link__icon',
                                    data: {
                                        name: 'login',
                                    },
                                } only %}
                                {{ 'customer.login' | trans }}
                            </a>
                        {% endif %}
                    </div>
                {% endblock %}

                {% block bottomBar %}
                    <div class="{{ config.name }}__bottom-bar">
                    </div>
                {% endblock %}
            </div>
        {% endblock %}
    </aside>
{% endblock %}
