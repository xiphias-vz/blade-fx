{% extends template('widget') %}

{% define data = {
    productAbstractViewCollection: productAbstractViewCollection,
} %}
{% block body %}
    {% embed molecule('slick-carousel') with {
        modifiers: ['full-width', 'equal-height'],
        data: {
        slides: data.productAbstractViewCollection
    },
        attributes: {
            'data-json': '{
                "slidesToShow": 4,
                "dots": false,
                "arrows": true,
                "responsive": [{
                    "breakpoint": 803,
                    "settings": {
                        "slidesToShow": 3
                    }
                },
                {
                    "breakpoint": 575,
                    "settings": {
                        "slidesToShow": 2
                    }
                },
                {
                    "breakpoint": 475,
                    "settings": {
                        "slidesToShow": 1
                    }
                }]
            }'
    }
        } only %}
        {% block slides %}
            {% for availableProduct in data.slides if availableProduct.available %}
                {% widget 'CmsProductWidget' args [availableProduct] use '@ProductWidget/views/cms-product-slider/cms-product-slider.twig' only %}{% endwidget %}
            {% endfor %}
        {% endblock %}
    {% endembed %}

{% endblock %}

